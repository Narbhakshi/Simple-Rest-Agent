<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first <i></i>n the head; any other head content must come *after* these tags -->
  <title>Simple Rest Agent</title>

  <!-- Bootstrap -->
  <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="style/customStyles.css" rel="stylesheet"/>
  <link rel="icon" href="images/favicon.png">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>
  <div class="container headerPlaceHolder">
    <div class="row">
      <div class="col-lg-12 customDiv">
        <div class = "ApplicationTitle">
          Simple Rest Agent
        </div>
      </div>

    </div>
    <div class = "row bodyPlaceHolder">
      <div class="loader-and-cover">
        <div id="cover" data-bind="visible:isLoading, click:toggleLoader"></div>
        <div id="loader" data-bind="visible:isLoading, click:toggleLoader"></div>
      </div>
      <form class="navbar-left" data-bind="submit:restSubmitted">
        <div class = "restInputBlock">
          <div class="row buttonsBar">
            <div class="col-lg-2 restMethods">
              <select class="form-control" data-bind="click:onRestMethodChange, value:selectedRestMethod, options:restMethodsArray"></select>
            </div>
            <div class="col-lg-9 restURLClass">
              <!-- <div class="input-group">
              <span class="input-group-addon" id="basic-addon1"></span>
              <input type="url" class="form-control" placeholder="Enter REST URL" aria-describedby="basic-addon1" data-bind="value:restURL">
            </div> -->


            <div class="input-group">
              <div class="input-group-addon restURLError"  data-toggle="tooltip" data-placement="bottom" data-title="You must enter a valid rest url to continue" data-bind="visible:isRestUrlValid() == -1" >
                <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
              </div>

              <div class="input-group-addon restURLError alert-danger" data-toggle="tooltip" data-placement="bottom" data-title="Invalid URL entered"  data-bind="visible:isRestUrlValid() == 0" >
                <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
              </div>
              <div class="input-group-addon restURLValid" data-bind="visible:isRestUrlValid() == 1">
                <span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span>
              </div>
              <input type="url" class="form-control" id="inlineFormInputGroup" placeholder="Enter REST URL" data-bind="textInput:restURL, css:restURLInputClass">
            </div>


          </div>
          <div class="col-lg-1 restSend">
            <button type="submit" class="btn btn-primary restURLButtonClass" data-bind="enable:isRestUrlValid()==1">Send</button>
          </div>
        </div>
        <div class="row optionsTab">
          <ul class="nav nav-pills nav-justified">
            <li class="nav-item" data-bind="click:showHistorySection, css:{active:showHistoryFlag}">
              <a class="nav-link" href="#">History</a>
            </li>
            <li class="nav-item" data-bind="click:showHeadersSection, css:{active:showHeadersSectionFlag}">
              <a class="nav-link" href="#">Headers</a>
            </li>
            <li class="nav-item bodyButton" data-bind="css:{active:showPayloadFlag, disabled:disablePayloadSection}">
              <a class="nav-link" data-bind="click:showPayloadSection, css:{disabled:disablePayloadSection}"  href="#">Body</a>
            </li>
          </ul>
        </div>
        <div class="row restInputDetails">
          <div class="col-lg-12 restInputSection">
            <div class="historySection" data-bind="visible:showHistoryFlag">
              <h1>Welcome to a dummy history section</h1>
              <h2>This section is under development now.</h2>
              Things to implement:
              <ul>History</ul><ul>Loader - Dancing bars</ul><ul>URL Validation</ul><ul>Fixed header</ul>
            </div>
            <div class="headersSection" data-bind="visible:showHeadersSectionFlag">
              <div class="individualHeaders">
                <table class="table table-sm table-striped table-hover">
                  <thead thead-default>
                    <tr table-border>
                      <th class ="col-md-1 headerRank">#</th>
                      <th class ="col-md-4 headerKey">Key</th>
                      <th class ="col-md-7 headerValue">Value</th>
                    </tr>
                  </thead>
                  <tbody data-bind="foreach:headersList">
                    <tr>
                      <th scope="row" class="headerRank" data-bind="text:$index()+1"></th>
                      <td class ="headerKey" data-bind="text: headerKey "></td>
                      <td class ="headerValue" data-bind="text: headerValue "></td>
                      <td><a href="#" type="button" class="removeLink" data-bind="click: $parent.removeHeader">Remove</a></td>
                    </tr>
                  </tbody>
                  <!-- </table>

                  <table class="table table-sm table-striped table-hover"> -->
                  <tbody>
                    <tr class="sm">
                      <th class="headerRest">Header</th>
                      <td class ="headerKey">
                        <input placeholder="key" class="form-control" id="itemToAddHeaderNameInput" data-bind='textInput: itemToAddHeaderName' />
                      </td>
                      <td class ="headerValue">
                        <input placeholder="value" class="form-control" data-bind='textInput:itemToAddHeaderValue' />
                      </td>
                      <td><button class="btn btn-primary" type="button " data-bind="click:addItem" text="Addd ">Add</button>

                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>


              <!-- <div class="headerInputSection">
              <div class="col-md-4 offset-1 headerNameInput">
              <input placeholder="key" data-bind='textInput: itemToAddHeaderName' />
            </div>
            <div class="col-md-4 headerValueInput">
            <input placeholder="value" data-bind='textInput:itemToAddHeaderValue' />
          </div>
          <div class="headerAddInput pull-right">
          <button class="button" type="button " data-bind="click:addItem" text="Addd ">Add</button>
        </div>
      </div> -->

    </div>
    <div class="restPayloadSection" data-bind="visible:showPayloadFlag">
      <label for="exampleTextarea">Input Payload</label>
      <textarea class="form-control" id="exampleTextarea" spellcheck="false" data-bind="value:restPAYLOAD" placeholder="Enter REST payload here" rows="6"></textarea>
    </div>
  </div>
</form>
</div>
</div>
<div class="restOutputBlock" data-bind="visible:restOutputAvailable">


  <!-- <div class="row outputControls">
    <span>OUTPUT CONTROLS HEADER BAR</span>
    <a class="toggleFullOutputText" data-bind="text:toggleFullOutputText, click:toggleFullOutput" href="#"></a>
    <span class="glyphicon outputChevron" data-bind="css:{'glyphicon-chevron-up':showFullRestOutput, 'glyphicon-chevron-down':!showFullRestOutput()}" aria-hidden="true"></span>
    <div class="row">
      <div class="col-lg-12" data-bind="visible:showFullRestOutput">
        FULL OUTPUT SECTION
        <pre style="overflow:scroll; height: 200px; padding: 20px; border: 1px solid;" data-bind="text:fullRestOutput"></pre>
      </div>
    </div>
  </div> -->

  <div class="row outputControls">
    <span>OUTPUT CONTROLS HEADER BAR</span>
    <a class="toggleFullOutputText" data-toggle="collapse" href="#restFullOutputSection" data-title="Show all the response headers" data-toggle="tooltip"
     aria-expanded="false" aria-controls="restFullOutputSection" data-placement="bottom" data-bind="text:toggleFullOutputText,click:toggleFullOutput"></a>
    <span class="glyphicon outputChevron" data-bind="css:{'glyphicon-chevron-up':showFullRestOutput, 'glyphicon-chevron-down':!showFullRestOutput()}" aria-hidden="true"></span>
    <div class="col-lg-12 collapse" id="restFullOutputSection">
		<div class="card card-block">
        FULL OUTPUT SECTION
        <pre style="overflow:scroll; height: 200px; padding: 20px; border: 1px solid;" data-bind="text:fullRestOutput"></pre>
		</div>
    </div>
  </div>



  <div class="row">
    <div class = "col-md-2 outputSection">
      OUTPUT SECTION
    </div>
    <div class = "col-md-3 pull-right no-gutters copyResponseButton">
      <a class="copyResponseButtonLink" data-toggle="tooltip" data-title="Copy full output into clipboard" data-placement="bottom" data-bind="click:copyToClipboard" href="#">Copy</a>
    </div>
  </div>
    <div class="row restSuccess highlight" data-bind="visible:restSuccess">
      <textarea class="restOutputClass xx" rows="20" data-bind="text:restOutput" readonly></textarea>
    </div>
    <!--
    <div class="restError" id="restErrorPlaceHolder" data-bind="visible:restFail">
  </div>
  16:9 aspect ratio -->
  <div class=" row restError embed-responsive embed-responsive-4by3" data-bind="visible:restFail">
    <iframe class="embed-responsive-item" id="restErrorPlaceHolder" ></iframe>
  </div>
  <div class="row restErrorImagePlaceHolder" data-bind="visible:restFail">
    <img class="rounded mx-auto d-block" alt="Image for error codes" data-bind="attr: {}">
  </div>
</div>


</div>



<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="lib/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="lib/knockoutt.js"></script>
<script type="text/javascript" src="viewModel/restClientViewModel.js"></script>
</body>
</html>
